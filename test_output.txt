
> minerva@0.2.0 test /Users/cadams/src/github.com/casonadams/playground
> pnpm test:backend


> minerva@0.2.0 test:backend /Users/cadams/src/github.com/casonadams/playground
> cd src-tauri && cargo test --lib && cargo test --test '*' && cd ..

   Compiling minerva v0.2.0 (/Users/cadams/src/github.com/casonadams/playground/src-tauri)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 5.13s
     Running unittests src/lib.rs (target/debug/deps/minerva_lib-5ea7b5e46e46acc5)

running 962 tests
test api::validator::tests::test_validate_model_id_valid ... ok
test api::validator::tests::test_validate_max_tokens_valid ... ok
test api::types::tests::test_api_response_without_metadata ... ok
test api::validator::tests::test_validate_model_id_empty ... ok
test api::validator::tests::test_validate_temperature_valid ... ok
test api::validator::tests::test_validate_temperature_invalid ... ok
test api::validator::tests::test_validate_top_p_invalid ... ok
test api::validator::tests::test_validate_max_tokens_invalid ... ok
test api::validator::tests::test_validate_top_p_valid ... ok
test api::types::tests::test_api_response_with_metadata ... ok
test cli::types::tests::test_serve_args_default ... ok
test config::legacy::tests::test_default_config ... ok
test config::legacy::tests::test_config_paths_contain_minerva ... ok
test commands::tests::test_app_state_creation ... ok
test config::loader::tests::test_application_config_defaults ... ok
test config::validator::tests::test_validate_api_valid ... ok
test config::validator::tests::test_validate_all_config ... ok
test config::validator::tests::test_validate_api_zero_timeout ... ok
test config::validator::tests::test_validate_server_invalid_port ... ok
test config::validator::tests::test_validate_server_valid ... ok
test config::validator::tests::test_validate_streaming_valid ... ok
test config::legacy::tests::test_config_serialization ... ok
test error_recovery::tests::test_backoff_calculation ... ok
test error_recovery::tests::test_context_limit_fatal ... ok
test error_recovery::tests::test_gpu_context_lost ... ok
test error_recovery::tests::test_gpu_oom_fallback ... ok
test error_recovery::tests::test_is_gpu_error ... ok
test commands::model_commands::tests::test_list_empty_query ... ok
test error_recovery::tests::test_is_recoverable ... ok
test commands::model_commands::tests::test_list_hf_models ... ok
test error_recovery::tests::test_model_corrupted ... ok
test error_recovery::tests::test_recovery_messages ... ok
test error_recovery::tests::test_streaming_error_recovery ... ok
test cli::types::tests::test_serve_args_from_cli ... ok
test cli::types::tests::test_serve_args_config_file ... ok
test cli::types::tests::test_serve_args_all_options ... ok
test cli::types::tests::test_serve_args_models_dir ... ok
test inference::activation::tests::test_apply_activation_relu ... ok
test inference::activation::tests::test_apply_activation_gelu ... ok
test inference::activation::tests::test_apply_activation_silu ... ok
test inference::activation::tests::test_gelu ... ok
test inference::activation::tests::test_relu ... ok
test inference::activation::tests::test_silu ... ok
test inference::api::handlers::tests::test_infer_prompt ... ok
test inference::api::handlers::tests::test_list_models ... ok
test inference::api::request_types::tests::test_inference_request_deserialize ... ok
test inference::api::response_types::tests::test_error_response_format ... ok
test inference::api::response_types::tests::test_model_info_response ... ok
test inference::backend_manager::tests::test_backend_manager_creation ... ok
test inference::backend_manager::tests::test_backend_manager_default ... ok
test inference::backend_manager::tests::test_backend_manager_fallback_preference ... ok
test inference::backend_manager::tests::test_backend_manager_generate_without_model ... ok
test inference::backend_manager::tests::test_backend_manager_nonexistent_path ... ok
test inference::backend_manager::tests::test_backend_manager_unload_when_not_loaded ... ok
test inference::backend_manager::tests::test_backend_manager_with_preference ... ok
test inference::backend_manager::tests::test_backend_type_display ... ok
test inference::backend_manager::tests::test_backend_type_equality ... ok
test inference::backend_selector::tests::test_backend_preference_default ... ok
test inference::backend_selector::tests::test_backend_selection_auto_gguf ... ok
test inference::backend_selector::tests::test_backend_selection_auto_huggingface_bin ... ok
test inference::backend_selector::tests::test_backend_selection_auto_pytorch_error ... ok
test inference::backend_selector::tests::test_backend_selection_auto_safetensors ... ok
test inference::backend_selector::tests::test_backend_selection_fallback_gguf ... ok
test inference::backend_selector::tests::test_backend_selection_fallback_safetensors ... ok
test inference::backend_selector::tests::test_backend_selection_force_llama_cpp ... ok
test inference::backend_selector::tests::test_backend_selection_force_llama_cpp_unsupported ... ok
test inference::backend_selector::tests::test_backend_selection_force_pure_rust ... ok
test inference::backend_selector::tests::test_backend_selection_force_pure_rust_unsupported ... ok
test inference::backend_selector::tests::test_error_messages_are_informative ... ok
test inference::backend_selector::tests::test_format_supported_by_llama_cpp ... ok
test inference::backend_selector::tests::test_format_supported_by_pure_rust ... ok
test inference::backend_selector::tests::test_model_format_case_insensitive ... ok
test inference::backend_selector::tests::test_model_format_detection_gguf ... ok
test inference::backend_selector::tests::test_model_format_detection_huggingface ... ok
test inference::backend_selector::tests::test_model_format_detection_pytorch ... ok
test inference::backend_selector::tests::test_model_format_detection_safetensors ... ok
test inference::backend_selector::tests::test_model_format_detection_tensorflow ... ok
test inference::backend_selector::tests::test_model_format_detection_unknown ... ok
test inference::backend_selector::tests::test_model_format_names ... ok
test inference::backend_selector::tests::test_to_result_error ... ok
test inference::backend_selector::tests::test_to_result_success ... ok
test inference::batch::tests::test_batch_inference_engine_creation ... ok
test inference::batch::tests::test_batch_inference_engine_default ... ok
test inference::batch::tests::test_batch_inference_engine_infer ... ok
test inference::batch::tests::test_batch_item_creation ... ok
test inference::batch::tests::test_batch_response_creation ... ok
test inference::batch::tests::test_batch_result_creation ... ok
test inference::batch::tests::test_batch_result_get_by_id ... ok
test inference::batch::tests::test_batch_result_success_count ... ok
test inference::batch::tests::test_batch_stats_creation ... ok
test inference::batch::tests::test_batch_stats_speedup ... ok
test inference::batch::tests::test_batch_tokenizer_creation ... ok
test inference::batch::tests::test_batch_tokenizer_decode ... ok
test inference::batch::tests::test_batch_tokenizer_default ... ok
test inference::batch::tests::test_batch_tokenizer_encode ... ok
test inference::batch::tests::test_inference_batch_request ... ok
test inference::batch::tests::test_tokenize_batch_request ... ok
test inference::batch_async::tests::test_async_batch_item_creation ... ok
test inference::batch_async::tests::test_async_batch_response_creation ... ok
test inference::batch_async::tests::test_async_batch_result_lookup ... ok
test inference::batch_async::tests::test_async_batch_result_stats ... ok
test inference::batch_measurement::tests::test_operation_stats_calculations ... ok
test inference::batch_async::tests::test_async_inference_engine ... ok
test inference::batch_async::tests::test_async_tokenizer_decode ... ok
test inference::batch_parallel::tests::test_parallel_batch_item ... ok
test inference::batch_parallel::tests::test_parallel_batch_response ... ok
test inference::batch_async::tests::test_async_tokenizer_encode ... ok
test inference::batch_parallel::tests::test_parallel_result_lookup ... ok
test inference::batch_parallel::tests::test_parallel_with_custom_threads ... ok
test inference::benchmarks::tests::test_accumulator_default ... ok
test inference::batch_result_optimized::tests::test_hashmap_lookup ... ok
test inference::batch_result_optimized::tests::test_statistics_precomputation ... ok
test inference::benchmarks::tests::test_benchmark_not_started ... ok
test inference::benchmarks::tests::test_gpu_vs_cpu_speedup ... ok
test inference::benchmarks::tests::test_performance_accumulator ... ok
test inference::batch_measurement::tests::test_measure_time ... ok
test inference::batch_parallel::tests::test_parallel_tokenizer_decode ... ok
test inference::batch_parallel::tests::test_parallel_tokenizer_encode ... ok
test inference::benchmarks::tests::test_performance_metrics ... ok
test inference::benchmarks::tests::test_performance_metrics_zero_duration ... ok
test inference::cache_optimizer::tests::test_cache_optimizer_aggressive_strategy ... ok
test inference::batch_parallel::tests::test_parallel_inference_engine ... ok
test inference::cache_optimizer::tests::test_cache_optimizer_calculate_optimal_size ... ok
test inference::cache_optimizer::tests::test_cache_optimizer_conservative_strategy ... ok
test inference::cache_optimizer::tests::test_cache_optimizer_creation ... ok
test inference::cache_optimizer::tests::test_cache_optimizer_set_size ... ok
test inference::cache_optimizer::tests::test_cache_optimizer_set_size_respects_bounds ... ok
test inference::cache_optimizer::tests::test_cache_optimizer_should_optimize ... ok
test inference::cache_optimizer::tests::test_cache_optimizer_stats ... ok
test inference::cache_optimizer::tests::test_optimization_config_default ... ok
test inference::cache_optimizer::tests::test_optimization_stats_default ... ok
test inference::cache_optimizer::tests::test_optimization_strategy_all_variants ... ok
test inference::cache_optimizer::tests::test_optimization_strategy_default ... ok
test inference::cache_optimizer::tests::test_system_memory_available_percent ... ok
test inference::cache_optimizer::tests::test_system_memory_under_pressure ... ok
test inference::cache_optimizer::tests::test_system_memory_zero_total ... ok
test inference::context_manager::tests::test_cache_hit_rate_zero ... ok
test inference::context_manager::tests::test_cache_stats_default ... ok
test inference::context_manager::tests::test_context_manager_creation ... ok
test inference::context_manager::tests::test_context_manager_with_policy ... ok
test inference::context_manager::tests::test_default_context_manager ... ok
test inference::context_manager::tests::test_get_loaded_models ... ok
test inference::context_manager::tests::test_is_loaded ... ok
test inference::context_manager::tests::test_load_nonexistent_model ... ok
test inference::context_manager::tests::test_memory_estimate ... ok
test inference::context_manager::tests::test_memory_pressure_low ... ok
test inference::context_manager::tests::test_model_context_creation ... ok
test inference::context_manager::tests::test_model_context_update_last_used ... ok
test inference::context_manager::tests::test_preload_model_nonexistent ... ok
test inference::context_manager::tests::test_unload_nonexistent_model ... ok
test inference::context_manager::tests::test_usage_stats_default ... ok
test inference::downloader::cache::tests::test_cache_add ... ok
test inference::downloader::cache::tests::test_cache_get ... ok
test inference::downloader::cache::tests::test_cache_new ... ok
test inference::downloader::cache::tests::test_cache_remove ... ok
test inference::downloader::download::tests::test_new ... ok
test inference::downloader::download::tests::test_validate_empty_id ... ok
test inference::downloader::download::tests::test_download ... ok
test inference::downloader::progress::tests::test_progress_calculation ... ok
test inference::downloader::progress::tests::test_progress_tracking ... ok
test inference::downloader::progress::tests::test_tracker_creation ... ok
test inference::embedding::tests::test_embed_tokens_out_of_vocab ... ok
test inference::embedding::tests::test_embed_tokens_shapes ... ok
test inference::embedding::tests::test_embed_tokens_values ... ok
test inference::feedforward::tests::test_feedforward_all_activations ... ok
test inference::feedforward::tests::test_feedforward_input_mismatch ... ok
test inference::feedforward::tests::test_feedforward_shapes ... ok
test inference::garbage_collector::tests::test_garbage_collector_collect ... ok
test inference::garbage_collector::tests::test_garbage_collector_creation ... ok
test inference::garbage_collector::tests::test_garbage_collector_reset_stats ... ok
test inference::garbage_collector::tests::test_garbage_collector_set_auto_collect ... ok
test inference::garbage_collector::tests::test_garbage_collector_set_policy ... ok
test inference::garbage_collector::tests::test_garbage_collector_should_collect ... ok
test inference::garbage_collector::tests::test_garbage_collector_stats ... ok
test inference::garbage_collector::tests::test_garbage_collector_with_config ... ok
test inference::garbage_collector::tests::test_gc_config_default ... ok
test inference::garbage_collector::tests::test_gc_policy_all_variants ... ok
test inference::garbage_collector::tests::test_gc_policy_default ... ok
test inference::garbage_collector::tests::test_gc_stats_avg_freed ... ok
test inference::garbage_collector::tests::test_gc_stats_collection_frequency ... ok
test inference::garbage_collector::tests::test_gc_stats_default ... ok
test inference::garbage_collector::tests::test_gc_time_until_next_collection ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_batch_item_creation ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_batch_request_memory ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_compute_pipeline ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_memory_allocation ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_memory_deallocation ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_memory_insufficient ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_memory_usage_percent ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_scheduler_creation ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_scheduler_insufficient_memory ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_scheduler_priority_queue ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_scheduler_schedule_batch ... ok
test inference::gpu_compute_engine::tests::test_attention_invalid_shape ... ok
test inference::gpu_compute_engine::tests::test_attention_simple ... ok
test inference::gpu_compute_engine::tests::test_attention_with_multiple_heads ... ok
test inference::gpu_compute_engine::tests::test_cpu_matmul ... ok
test inference::gpu_compute_engine::tests::test_element_mul ... ok
test inference::gpu_compute_engine::tests::test_element_mul_computation ... ok
test inference::gpu_compute_engine::tests::test_element_mul_size_mismatch ... ok
test inference::gpu_compute_engine::tests::test_gpu_compute_config_default ... ok
test inference::gpu_compute_engine::tests::test_gpu_compute_engine_creation ... ok
test inference::gpu_compute_engine::tests::test_gpu_compute_engine_simulated ... ok
test inference::gpu_compute_engine::tests::test_gpu_disabled ... ok
test inference::gpu_compute_engine::tests::test_rmsnorm ... ok
test inference::gpu_compute_engine::tests::test_matmul_execution_time ... ok
test inference::gpu_compute_engine::tests::test_rmsnorm_weight_mismatch ... ok
test inference::gpu_context::tests::test_gpu_context_allocate ... ok
test inference::gpu_context::tests::test_gpu_context_available_memory ... ok
test inference::gpu_context::tests::test_gpu_context_creation ... ok
test inference::gpu_context::tests::test_gpu_context_deallocate ... ok
test inference::gpu_context::tests::test_gpu_context_device_detection ... ok
test inference::gpu_context::tests::test_gpu_context_out_of_memory ... ok
test inference::gpu_llama_integration::tests::test_attention_projection ... ok
test inference::gpu_llama_integration::tests::test_config_getter ... ok
test inference::gpu_llama_integration::tests::test_ffn_projections ... ok
test inference::gpu_llama_integration::tests::test_gpu_inference_config_default ... ok
test inference::gpu_llama_integration::tests::test_forward_block_basic ... ok
test inference::gpu_llama_integration::tests::test_gpu_llama_inference_creation ... ok
test inference::gpu_llama_integration::tests::test_gpu_llama_inference_simulated ... ok
test inference::gpu_llama_integration::tests::test_residual_connection ... ok
test inference::gpu_llama_integration::tests::test_silu_gate ... ok
test inference::gpu_llama_integration::tests::test_silu_gate_mismatch ... ok
test inference::inference_engine::tests::test_bert_config_creation ... ok
test inference::inference_engine::tests::test_engine_creation_invalid_embeddings ... ok
test inference::inference_engine::tests::test_forward_pass_empty_sequence ... ok
test inference::inference_engine::tests::test_engine_creation_valid ... ok
test inference::inference_engine::tests::test_forward_pass_sequence_too_long ... ok
test inference::inference_engine::tests::test_llama_config_creation ... ok
test inference::inference_engine::tests::test_tiny_config_creation ... ok
test inference::inference_pipeline::tests::test_inference_accessors ... ok
test inference::inference_pipeline::tests::test_inference_empty_prompt ... ok
test inference::inference_engine::tests::test_config_consistency ... ok
test inference::inference_engine::tests::test_forward_single_token ... ok
test inference::gpu_llama_integration::tests::test_forward_block_invalid_input ... ok
test inference::inference_engine::tests::test_softmax_probabilities_sum_to_one ... ok
test inference::inference_pipeline::tests::test_inference_pipeline_params_custom ... ok
test inference::inference_pipeline::tests::test_inference_pipeline_params_default ... ok
test inference::inference_engine::tests::test_forward_numerical_stability ... ok
test inference::inference_engine::tests::test_forward_pass_shapes ... ok
test inference::inference_pipeline::tests::test_inference_step_result ... ok
test inference::inference_engine::tests::test_forward_with_softmax_shapes ... ok
test inference::gpu_batch_scheduler::tests::test_gpu_batch_executor_execution ... ok
test inference::benchmarks::tests::test_benchmark_timing ... ok
test inference::inference_pipeline::tests::test_pipeline_creation_custom_params ... ok
test inference::inference_pipeline::tests::test_pipeline_creation_with_default_tokenizer ... ok
test inference::inference_pipeline::tests::test_pipeline_parameters ... ok
test inference::inference_pipeline::tests::test_sample_token_validity ... ok
test inference::kv_cache_optimizer::tests::test_add_layer_cache ... ok
test inference::kv_cache_optimizer::tests::test_append_keys_and_values ... ok
test inference::kv_cache_optimizer::tests::test_append_multiple_tokens ... ok
test inference::kv_cache_optimizer::tests::test_append_size_mismatch ... ok
test inference::kv_cache_optimizer::tests::test_cache_clear ... ok
test inference::kv_cache_optimizer::tests::test_cache_overflow ... ok
test inference::kv_cache_optimizer::tests::test_clear_all ... ok
test inference::kv_cache_optimizer::tests::test_clear_single_layer ... ok
test inference::kv_cache_optimizer::tests::test_get_cached_keys ... ok
test inference::kv_cache_optimizer::tests::test_get_keys ... ok
test inference::kv_cache_optimizer::tests::test_get_stats ... ok
test inference::kv_cache_optimizer::tests::test_get_values ... ok
test inference::kv_cache_optimizer::tests::test_is_full ... ok
test inference::kv_cache_optimizer::tests::test_kv_cache_manager_creation ... ok
test inference::kv_cache_optimizer::tests::test_layer_kv_cache_creation ... ok
test inference::kv_cache_optimizer::tests::test_memory_usage ... ok
test inference::kv_cache_optimizer::tests::test_remaining_capacity ... ok
test inference::kv_cache_optimizer::tests::test_total_memory_usage ... ok
test inference::kv_cache_optimizer::tests::test_utilization ... ok
test inference::llama_adapter::tests::test_backend_can_handle_gguf ... ok
test inference::llama_adapter::tests::test_backend_cannot_handle_huggingface ... ok
test inference::llama_adapter::tests::test_backend_cannot_handle_safetensors ... ok
test inference::llama_adapter::tests::test_format_detection_gguf ... ok
test inference::llama_adapter::tests::test_format_detection_huggingface_bin ... ok
test inference::llama_adapter::tests::test_format_detection_pytorch ... ok
test inference::llama_adapter::tests::test_format_detection_safetensors ... ok
test inference::llama_adapter::tests::test_format_detection_unknown ... ok
test inference::llama_adapter::tests::test_llama_cpp_backend_creation ... ok
test inference::llama_adapter::tests::test_llama_cpp_backend_detokenize_fallback ... ok
test inference::llama_adapter::tests::test_llama_cpp_backend_detokenize_with_tokenizer ... ok
test inference::llama_adapter::tests::test_llama_cpp_backend_missing_file ... ok
test inference::llama_adapter::tests::test_llama_cpp_backend_tokenize_fallback ... ok
test inference::llama_adapter::tests::test_llama_cpp_backend_tokenize_with_tokenizer ... ok
test inference::llama_adapter::tests::test_llama_cpp_backend_unload ... ok
test inference::llama_adapter::tests::test_mock_backend_creation ... ok
test inference::llama_adapter::tests::test_mock_backend_detokenize ... ok
test inference::llama_adapter::tests::test_mock_backend_generate ... ok
test inference::llama_adapter::tests::test_mock_backend_load ... ok
test inference::llama_adapter::tests::test_mock_backend_tokenize ... ok
test inference::llama_adapter::tests::test_mock_backend_unload ... ok
test inference::llama_engine::tests::test_llama_engine_creation ... ok
test inference::llama_engine::tests::test_llama_engine_generate_loaded ... ok
test inference::llama_engine::tests::test_llama_engine_generate_not_loaded ... ok
test inference::llama_engine::tests::test_llama_engine_get_context_info ... ok
test inference::llama_engine::tests::test_llama_engine_intelligent_mocking ... ok
test inference::llama_engine::tests::test_llama_engine_load_nonexistent ... ok
test inference::llama_engine::tests::test_llama_engine_load_valid ... ok
test inference::llama_engine::tests::test_llama_engine_unload ... ok
test inference::llama_inference::tests::test_attention_output ... ok
test inference::llama_inference::tests::test_decoder_creation ... ok
test inference::llama_inference::tests::test_decoder_generate_sequence ... ok
test inference::llama_inference::tests::test_decoder_invalid_temperature ... ok
test inference::llama_inference::tests::test_decoder_invalid_topk ... ok
test inference::llama_inference::tests::test_decoder_invalid_topp ... ok
test inference::llama_inference::tests::test_decoder_sample_greedy ... ok
test inference::llama_inference::tests::test_decoder_sample_topk ... ok
test inference::llama_inference::tests::test_decoder_sample_topp ... ok
test inference::llama_inference::tests::test_feedforward_creation ... ok
test inference::llama_inference::tests::test_feedforward_forward ... ok
test inference::llama_inference::tests::test_feedforward_size_mismatch ... ok
test inference::llama_inference::tests::test_kv_cache_clear ... ok
test inference::llama_inference::tests::test_kv_cache_creation ... ok
test inference::llama_inference::tests::test_kv_cache_store_and_get ... ok
test inference::llama_inference::tests::test_multihead_attention_creation ... ok
test inference::llama_inference::tests::test_multihead_attention_invalid_dims ... ok
test inference::llama_inference::tests::test_rmsnorm ... ok
test inference::llama_inference::tests::test_rmsnorm_size_mismatch ... ok
test inference::llama_inference::tests::test_rope_angle_calculation ... ok
test inference::llama_inference::tests::test_rope_params_creation ... ok
test inference::llama_inference::tests::test_rope_params_theta ... ok
test inference::llama_inference::tests::test_sampling_strategy_greedy ... ok
test inference::llama_inference::tests::test_sampling_strategy_topk ... ok
test inference::llama_inference::tests::test_sampling_strategy_topp ... ok
test inference::llama_inference::tests::test_silu_activation ... ok
test inference::llama_inference::tests::test_softmax ... ok
test inference::llama_tokenizer::tests::test_bpe_merges_setting ... ok
test inference::llama_tokenizer::tests::test_decode_batch ... ok
test inference::llama_tokenizer::tests::test_decode_invalid_token ... ok
test inference::llama_tokenizer::tests::test_decode_simple ... ok
test inference::llama_tokenizer::tests::test_empty_text_encode ... ok
test inference::llama_tokenizer::tests::test_encode_batch ... ok
test inference::llama_tokenizer::tests::test_encode_simple ... ok
test inference::llama_tokenizer::tests::test_get_id ... ok
test inference::llama_tokenizer::tests::test_get_token ... ok
test inference::llama_tokenizer::tests::test_special_tokens ... ok
test inference::llama_tokenizer::tests::test_token_to_id_consistency ... ok
test inference::llama_tokenizer::tests::test_tokenizer_creation ... ok
test inference::llama_tokenizer::tests::test_tokenizer_empty_vocab_error ... ok
test inference::llama_tokenizer::tests::test_vocab_lookup ... ok
test inference::metal_gpu::tests::test_gpu_buffer_creation ... ok
test inference::metal_gpu::tests::test_gpu_buffer_on_gpu_flag ... ok
test inference::metal_gpu::tests::test_gpu_buffer_read_write ... ok
test inference::metal_gpu::tests::test_gpu_memory_pool_allocate ... ok
test inference::metal_gpu::tests::test_gpu_memory_pool_allocate_multiple ... ok
test inference::metal_gpu::tests::test_gpu_memory_pool_creation ... ok
test inference::metal_gpu::tests::test_gpu_memory_pool_deallocate ... ok
test inference::metal_gpu::tests::test_gpu_memory_pool_insufficient_memory ... ok
test inference::metal_gpu::tests::test_kernel_config_default ... ok
test inference::metal_gpu::tests::test_kernel_result ... ok
test inference::metal_gpu::tests::test_kernel_result_with_error ... ok
test inference::metal_gpu::tests::test_kernel_type_names ... ok
test inference::metal_gpu::tests::test_metal_device_allocate_buffer ... ok
test inference::metal_gpu::tests::test_metal_device_copy_from_gpu ... ok
test inference::metal_gpu::tests::test_metal_device_copy_size_mismatch ... ok
test inference::metal_gpu::tests::test_metal_device_copy_to_gpu ... ok
test inference::metal_gpu::tests::test_metal_device_element_mul_kernel ... ok
test inference::metal_gpu::tests::test_metal_device_execute_attention_kernel ... ok
test inference::metal_gpu::tests::test_metal_device_execute_layer_norm_kernel ... ok
test inference::metal_gpu::tests::test_metal_device_execute_matmul_kernel ... ok
test inference::metal_gpu::tests::test_metal_device_free_buffer ... ok
test inference::metal_gpu::tests::test_metal_device_info_real ... ok
test inference::metal_gpu::tests::test_metal_device_info_simulated ... ok
test inference::metal_gpu::tests::test_metal_device_invalid_kernel_inputs ... ok
test inference::metal_gpu::tests::test_metal_device_nonexistent_buffer ... ok
test inference::metal_gpu::tests::test_metal_device_silu_kernel ... ok
test inference::metal_gpu::tests::test_metal_device_simulated ... ok
test inference::metal_gpu::tests::test_metal_device_softmax_kernel ... ok
test inference::metrics::tests::test_metrics_creation ... ok
test inference::metrics::tests::test_metrics_summary ... ok
test inference::metrics::tests::test_tokens_per_second_calculation ... ok
test inference::metrics::tests::test_tokens_per_second_zero_time ... ok
test inference::mlx_backend::tests::test_mlx_backend_creation ... ok
test inference::mlx_backend::tests::test_mlx_backend_default ... ok
test inference::mlx_backend::tests::test_mlx_backend_detokenize ... ok
test inference::mlx_backend::tests::test_mlx_backend_tokenize ... ok
test inference::mlx_backend::tests::test_mlx_backend_unload ... ok
test inference::mlx_backend::tests::test_mlx_model_format_detection_gguf ... ok
test inference::mlx_backend::tests::test_mlx_model_format_detection_huggingface ... ok
test inference::mlx_backend::tests::test_mlx_model_name_extraction ... ok
test inference::mlx_model_support::tests::test_architecture_detection ... ok
test inference::mlx_model_support::tests::test_confidence_scoring ... ok
test inference::mlx_model_support::tests::test_detect_any_model ... ok
test inference::mlx_model_support::tests::test_mlx_features_per_architecture ... ok
test inference::mlx_model_support::tests::test_model_name_extraction ... ok
test inference::mlx_model_support::tests::test_param_extraction ... ok
test inference::mlx_model_support::tests::test_quantization_detection ... ok
test inference::mlx_model_support::tests::test_size_estimation ... ok
test inference::mlx_model_support::tests::test_unknown_models_still_work ... ok
test inference::mlx_model_support::tests::test_well_known_models ... ok
test inference::mock_stream::tests::test_mock_token_stream_creation ... ok
test inference::mock_stream::tests::test_mock_token_stream_empty ... ok
test inference::mock_stream::tests::test_mock_token_stream_iteration ... ok
test inference::model_cache::tests::test_cache_contains ... ok
test inference::model_cache::tests::test_cache_creation ... ok
test inference::model_cache::tests::test_cache_default ... ok
test inference::model_cache::tests::test_cache_entry_preloaded ... ok
test inference::model_cache::tests::test_cache_get_nonexistent ... ok
test inference::model_cache::tests::test_cache_list_empty ... ok
test inference::model_cache::tests::test_cache_policy_lfu ... ok
test inference::model_cache::tests::test_cache_policy_lru ... ok
test inference::model_cache::tests::test_cache_remove_nonexistent ... ok
test inference::model_cache::tests::test_cache_stats_default ... ok
test inference::model_cache::tests::test_cache_stats_hit_rate ... ok
test inference::model_cache::tests::test_cache_stats_increments ... ok
test inference::model_cache::tests::test_eviction_policy_clone ... ok
test inference::model_cache::tests::test_preload_strategy_eager ... ok
test inference::model_cache_manager::tests::test_available_space ... ok
test inference::model_cache_manager::tests::test_cache_creation ... ok
test inference::model_cache_manager::tests::test_cache_default_size ... ok
test inference::model_cache_manager::tests::test_cache_hits_and_misses ... ok
test inference::model_cache_manager::tests::test_cache_stats ... ok
test inference::model_cache_manager::tests::test_cache_stats_hit_ratio_zero_accesses ... ok
test inference::model_cache_manager::tests::test_clear_cache ... ok
test inference::model_cache_manager::tests::test_duplicate_load ... ok
test inference::model_cache_manager::tests::test_get_model ... ok
test inference::model_cache_manager::tests::test_get_nonexistent_model ... ok
test inference::model_cache_manager::tests::test_is_cached ... ok
test inference::model_cache_manager::tests::test_list_models ... ok
test inference::model_cache_manager::tests::test_load_model ... ok
test inference::model_cache_manager::tests::test_lru_eviction ... ok
test inference::model_cache_manager::tests::test_memory_tracking ... ok
test inference::model_cache_manager::tests::test_multiple_gets_increase_hit_count ... ok
test inference::model_cache_manager::tests::test_remove_model ... ok
test inference::model_loader::tests::test_extract_tensor_found ... ok
test inference::model_loader::tests::test_extract_tensor_not_found ... ok
test inference::model_loader::tests::test_metadata_from_config_llama ... ok
test inference::model_loader::tests::test_metadata_from_config_missing_file ... ok
test inference::model_loader::tests::test_metadata_to_engine_config_llama ... ok
test inference::model_loader::tests::test_metadata_to_engine_config_unknown_type ... ok
test inference::model_loader::tests::test_model_loader_config_creation ... ok
test inference::model_loader::tests::test_model_loader_config_from_directory_missing_weights ... ok
test inference::model_loader::tests::test_validate_weights_embedding_mismatch ... ok
test inference::model_loader::tests::test_validate_weights_layer_count_mismatch ... ok
test inference::model_loader::tests::test_validate_weights_valid ... ok
test inference::model_registry::tests::test_cache_usage_percent_zero ... ok
test inference::model_registry::tests::test_metadata_hash_consistency ... ok
test inference::model_registry::tests::test_model_metadata_age_seconds ... ok
test inference::model_registry::tests::test_model_metadata_touch ... ok
test inference::model_registry::tests::test_registry_clear ... ok
test inference::model_registry::tests::test_registry_creation ... ok
test inference::model_registry::tests::test_registry_get_nonexistent ... ok
test inference::model_registry::tests::test_registry_least_used_empty ... ok
test inference::model_registry::tests::test_registry_list_cached_empty ... ok
test inference::model_registry::tests::test_registry_list_empty ... ok
test inference::model_registry::tests::test_registry_oldest_cached_empty ... ok
test inference::model_registry::tests::test_registry_remove_nonexistent ... ok
test inference::model_registry::tests::test_registry_set_max_cache_size ... ok
test inference::model_registry::tests::test_registry_with_defaults ... ok
test inference::model_registry::tests::test_registry_would_exceed_limit ... ok
test inference::optimization_utils::tests::test_memory_overhead_estimation ... ok
test inference::optimization_utils::tests::test_optimal_batch_size_calculation ... ok
test inference::parameters::tests::test_parameter_parser_custom_values ... ok
test inference::parameters::tests::test_parameter_parser_defaults ... ok
test inference::parameters::tests::test_parameter_parser_frequency_penalty ... ok
test inference::parameters::tests::test_parameter_parser_frequency_penalty_positive ... ok
test inference::parameters::tests::test_parameter_parser_invalid_max_tokens ... ok
test inference::parameters::tests::test_parameter_parser_invalid_temperature ... ok
test inference::parameters::tests::test_parameter_parser_invalid_top_p ... ok
test inference::parameters::tests::test_parameter_parser_summarize ... ok
test inference::pattern_detector::tests::test_pattern_detector_analyze ... ok
test inference::pattern_detector::tests::test_pattern_detector_clear ... ok
test inference::pattern_detector::tests::test_pattern_detector_cold_models ... ok
test inference::pattern_detector::tests::test_pattern_detector_creation ... ok
test inference::pattern_detector::tests::test_pattern_detector_hot_models ... ok
test inference::pattern_detector::tests::test_pattern_detector_multiple_models ... ok
test inference::pattern_detector::tests::test_pattern_detector_record_access ... ok
test inference::pattern_detector::tests::test_pattern_detector_set_threshold ... ok
test inference::pattern_detector::tests::test_pattern_detector_should_analyze ... ok
test inference::pattern_detector::tests::test_pattern_result_creation ... ok
test inference::pattern_detector::tests::test_trend_enum_variants ... ok
test inference::pattern_detector::tests::test_usage_pattern_is_hot ... ok
test inference::pattern_detector::tests::test_usage_pattern_trend ... ok
test inference::phase5_integration::tests::test_async_large_batch ... ok
test inference::phase5_integration::tests::test_async_stress_with_large_batch ... ok
test inference::phase5_integration::tests::test_async_tokenizer_basic ... ok
test inference::phase5_integration::tests::test_e2e_async_pipeline ... ok
test inference::phase5_integration::tests::test_e2e_gpu_pipeline ... ok
test inference::phase5_integration::tests::test_e2e_parallel_pipeline ... ok
test inference::phase5_integration::tests::test_gpu_batch_executor_with_scheduler ... ok
test inference::phase5_integration::tests::test_gpu_executor_with_batch_request ... ok
test inference::phase5_integration::tests::test_gpu_memory_exhaustion ... ok
test inference::phase5_integration::tests::test_gpu_memory_pool_allocation ... ok
test inference::phase5_integration::tests::test_gpu_memory_pool_stress ... ok
test inference::phase5_integration::tests::test_gpu_scheduler_initialization ... ok
test inference::phase5_integration::tests::test_gpu_scheduler_pipeline_config ... ok
test inference::phase5_integration::tests::test_parallel_batch_order_preservation ... ok
test inference::phase5_integration::tests::test_parallel_concurrent_processing ... ok
test inference::phase5_integration::tests::test_parallel_large_batch ... ok
test inference::phase5_integration::tests::test_parallel_stress_with_large_batch ... ok
test inference::phase5_integration::tests::test_parallel_tokenizer_basic ... ok
test inference::phase5_integration::tests::test_parallel_with_gpu_memory ... ok
test inference::phase5_integration::tests::test_streaming_response_creation ... ok
test inference::phase5_integration::tests::test_streaming_response_finish ... ok
test inference::phase5_integration::tests::test_streaming_response_send_token ... ok
test inference::position_encoding::tests::test_add_position_encoding ... ok
test inference::position_encoding::tests::test_add_position_encoding_shape_mismatch ... ok
test inference::position_encoding::tests::test_position_encoding_shapes ... ok
test inference::position_encoding::tests::test_position_encoding_symmetry ... ok
test inference::preload_manager::tests::test_manager_clear_queue ... ok
test inference::preload_manager::tests::test_manager_creation ... ok
test inference::preload_manager::tests::test_manager_queue_list ... ok
test inference::preload_manager::tests::test_manager_queue_size ... ok
test inference::preload_manager::tests::test_manager_reset_stats ... ok
test inference::preload_manager::tests::test_manager_set_config ... ok
test inference::preload_manager::tests::test_manager_set_enabled ... ok
test inference::preload_manager::tests::test_manager_with_config ... ok
test inference::preload_manager::tests::test_preload_config_default ... ok
test inference::preload_manager::tests::test_preload_stats_avg_time ... ok
test inference::preload_manager::tests::test_preload_stats_default ... ok
test inference::preload_manager::tests::test_preload_stats_success_rate ... ok
test inference::preload_manager::tests::test_preload_strategy_frequency ... ok
test inference::preload_manager::tests::test_preload_strategy_recency ... ok
test inference::preload_manager::tests::test_preload_strategy_sequential ... ok
test inference::preload_manager::tests::test_preload_strategy_size ... ok
test inference::pure_rust_backend::tests::test_extract_model_type_from_json ... ok
test inference::inference_pipeline::tests::test_inference_timing ... ok
test inference::pure_rust_backend::tests::test_forward_pass_empty_tokens ... ok
test inference::inference_pipeline::tests::test_inference_throughput ... ok
test inference::inference_pipeline::tests::test_inference_gpu_disabled ... ok
test inference::pure_rust_backend::tests::test_forward_pass_requires_loaded_model ... ok
test inference::inference_pipeline::tests::test_inference_token_count ... ok
test inference::pure_rust_backend::tests::test_model_type_as_str ... ok
test inference::pure_rust_backend::tests::test_model_config_default ... ok
test inference::pure_rust_backend::tests::test_model_type_display ... ok
test inference::pure_rust_backend::tests::test_model_type_parse ... ok
test inference::pure_rust_backend::tests::test_pure_rust_backend_default ... ok
test inference::pure_rust_backend::tests::test_pure_rust_backend_creation ... ok
test inference::pure_rust_backend::tests::test_pure_rust_sample_token ... ok
test inference::pure_rust_backend::tests::test_pure_rust_sample_token_empty_logits ... ok
test inference::pure_rust_backend::tests::test_pure_rust_sample_with_temperature ... ok
test inference::pure_rust_backend::tests::test_pure_rust_unload_model ... ok
test inference::pure_rust_backend::tests::test_sample_token_equal_logits ... ok
test inference::pure_rust_backend::tests::test_sample_token_large_logits ... ok
test inference::pure_rust_backend::tests::test_sample_token_mixed_logits ... ok
test inference::pure_rust_backend::tests::test_sample_token_negative_logits ... ok
test inference::pure_rust_backend::tests::test_sample_token_single_logit ... ok
test inference::pure_rust_backend::tests::test_sample_token_stochastic_empty ... ok
test inference::pure_rust_backend::tests::test_sample_token_stochastic_high_probability ... ok
test inference::pure_rust_backend::tests::test_sample_token_stochastic_range ... ok
test inference::pure_rust_backend::tests::test_sample_token_temperature_high ... ok
test inference::pure_rust_backend::tests::test_sample_token_temperature_zero ... ok
test inference::pure_rust_backend::tests::test_sample_token_with_softmax ... ok
test inference::pure_rust_backend::tests::test_sampling_temperature_consistency ... ok
test inference::sampling::tests::test_apply_temperature_scaling ... ok
test inference::sampling::tests::test_apply_temperature_unchanged ... ok
test inference::sampling::tests::test_sample_greedy ... ok
test inference::sampling::tests::test_sample_greedy_empty ... ok
test inference::sampling::tests::test_sample_temperature_deterministic ... ok
test inference::sampling::tests::test_sample_temperature_empty ... ok
test inference::sampling::tests::test_sample_top_k_basic ... ok
test inference::sampling::tests::test_sample_top_k_k_larger_than_vocab ... ok
test inference::sampling::tests::test_sample_top_k_k_zero ... ok
test inference::sampling::tests::test_sample_top_k_vs_top_p ... ok
test inference::sampling::tests::test_sample_top_p_basic ... ok
test inference::sampling::tests::test_sample_top_p_invalid_p ... ok
test inference::sampling::tests::test_sample_top_p_p_boundary ... ok
test inference::sampling::tests::test_simple_random_deterministic ... ok
test inference::sampling::tests::test_simple_random_different_seeds ... ok
test inference::sampling::tests::test_softmax_numerical_stability ... ok
test inference::sampling::tests::test_softmax_properties ... ok
test inference::sampling::tests::test_temperature_config_creation ... ok
test inference::sampling::tests::test_top_k_config_standard ... ok
test inference::sampling::tests::test_top_p_config_standard ... ok
test inference::streaming_builder::tests::test_sse_format ... ok
test inference::streaming_builder::tests::test_streaming_response_chunk ... ok
test inference::streaming_builder::tests::test_streaming_response_creation ... ok
test inference::streaming_builder::tests::test_streaming_response_end_chunk ... ok
test inference::streaming_events::tests::test_as_sse ... ok
test inference::streaming_events::tests::test_complete_event ... ok
test inference::streaming_events::tests::test_error_event ... ok
test inference::streaming_events::tests::test_start_event ... ok
test inference::streaming_events::tests::test_token_event ... ok
test inference::streaming_response::tests::test_backpressure_handler_creation ... ok
test inference::streaming_response::tests::test_backpressure_handler_fill_percent ... ok
test inference::streaming_response::tests::test_backpressure_handler_full ... ok
test inference::streaming_response::tests::test_stream_buffer_add_token ... ok
test inference::streaming_response::tests::test_stream_buffer_creation ... ok
test inference::streaming_response::tests::test_stream_buffer_flush ... ok
test inference::streaming_response::tests::test_stream_buffer_full ... ok
test inference::streaming_response::tests::test_stream_event_creation ... ok
test inference::streaming_response::tests::test_streaming_response_finish ... ok
test inference::streaming_response::tests::test_streaming_response_send_token ... ok
test inference::streaming_response::tests::test_token_stream_collect ... ok
test inference::streaming_response::tests::test_token_stream_creation ... ok
test inference::tests::test_generation_config_default ... ok
test inference::tests::test_generation_config_validation ... ok
test inference::tests::test_inference_engine_creation ... ok
test inference::tests::test_inference_engine_load_nonexistent ... ok
test inference::tests::test_set_config ... ok
test inference::tests::test_set_invalid_config ... ok
test inference::token_stream::tests::test_token_stream_callback_content ... ok
test inference::token_stream::tests::test_token_stream_creation ... ok
test inference::token_stream::tests::test_token_stream_no_callback ... ok
test inference::token_stream::tests::test_token_stream_position ... ok
test inference::token_stream::tests::test_token_stream_push_and_next ... ok
test inference::token_stream::tests::test_token_stream_reset ... ok
test inference::token_stream::tests::test_token_stream_to_string ... ok
test inference::token_stream::tests::test_token_stream_with_callback ... ok
test inference::tokenizer::tests::test_bpe_tokenizer_creation ... ok
test inference::tokenizer::tests::test_bpe_tokenizer_with_merges ... ok
test inference::tokenizer::tests::test_format_detection_bert ... ok
test inference::tokenizer::tests::test_format_detection_gpt ... ok
test inference::tokenizer::tests::test_format_detection_t5 ... ok
test inference::tokenizer::tests::test_format_detection_unknown ... ok
test inference::inference_pipeline::tests::test_inference_long_prompt ... ok
test inference::tokenizer::tests::test_load_vocabulary_json ... ok
test inference::tokenizer::tests::test_load_vocabulary_txt ... ok
test inference::tokenizer::tests::test_load_vocabulary_txt_empty ... ok
test inference::tokenizer::tests::test_load_vocabulary_txt_with_comments ... ok
test inference::tokenizer::tests::test_token_creation ... ok
test inference::tokenizer::tests::test_token_handler_count_without_tokenizer ... ok
test inference::tokenizer::tests::test_token_handler_creation ... ok
test inference::tokenizer::tests::test_token_handler_decode_without_tokenizer ... ok
test inference::tokenizer::tests::test_token_handler_encode_without_tokenizer ... ok
test inference::tokenizer::tests::test_token_handler_format_detection ... ok
test inference::tokenizer::tests::test_token_handler_is_initialized ... ok
test inference::tokenizer::tests::test_token_handler_set_tokenizer ... ok
test inference::tokenizer::tests::test_vocabulary_add_token ... ok
test inference::tokenizer::tests::test_vocabulary_contains ... ok
test inference::tokenizer::tests::test_vocabulary_creation ... ok
test inference::tokenizer::tests::test_vocabulary_duplicate_token ... ok
test inference::tokenizer::tests::test_vocabulary_size ... ok
test inference::tokenizer::tests::test_vocabulary_special_tokens ... ok
test inference::tokenizer::tests::test_vocabulary_unk_default ... ok
test inference::transformer_components::tests::test_transformer_block_residuals ... ok
test inference::transformer_layers::tests::test_attention_numerical_stability ... ok
test inference::transformer_components::tests::test_transformer_block_shapes ... ok
test inference::transformer_layers::tests::test_attention_softmax_sums_to_one ... ok
test inference::transformer_layers::tests::test_causal_mask_creation ... ok
test inference::transformer_layers::tests::test_causal_mask_application ... ok
test inference::transformer_layers::tests::test_layer_norm_normalization ... ok
test inference::transformer_layers::tests::test_layer_norm_shapes ... ok
test inference::transformer_layers::tests::test_layer_norm_with_scale ... ok
test inference::transformer_layers::tests::test_multi_head_attention_invalid_heads ... ok
test inference::transformer_layers::tests::test_multi_head_attention_shapes ... ok
test inference::inference_pipeline::tests::test_inference_simple ... ok
test inference::transformer_layers::tests::test_scaled_dot_product_attention_invalid_shapes ... ok
test inference::unified_backend::tests::test_any_model_supported ... ok
test inference::unified_backend::tests::test_architecture_inference ... ok
test inference::unified_backend::tests::test_backend_selection ... ok
test inference::unified_backend::tests::test_format_detection ... ok
test inference::unified_backend::tests::test_model_detection ... ok
test inference::unified_backend::tests::test_param_extraction ... ok
test inference::unified_backend::tests::test_quantization_detection ... ok
test inference::unified_backend::tests::test_unified_backend_creation ... ok
test inference::inference_pipeline::tests::test_inference_result_basic ... ok
test inference::unified_model_registry::tests::test_clear_registry ... ok
test inference::unified_model_registry::tests::test_add_model_path ... ok
test inference::unified_model_registry::tests::test_get_model ... ok
test inference::unified_model_registry::tests::test_list_models ... ok
test inference::unified_model_registry::tests::test_recommended_batch_size ... ok
test inference::unified_model_registry::tests::test_registry_config_default ... ok
test inference::unified_model_registry::tests::test_register_model ... ok
test inference::unified_model_registry::tests::test_mark_loaded ... ok
test inference::unified_model_registry::tests::test_stats_tracking ... ok
test inference::unified_model_registry::tests::test_unregister_model ... ok
test inference::unified_model_registry::tests::test_registry_creation ... ok
test logging::spans::tests::test_generate_request_id ... ok
test logging::spans::tests::test_request_id_format ... ok
test logging::spans::tests::test_request_id_uniqueness ... ok
test logging::tests::test_debug_logging ... ok
test logging::tests::test_logging_initialization ... ok
test middleware::param_validator::tests::test_role_invalid ... ok
test middleware::param_validator::tests::test_role_valid ... ok
test middleware::param_validator::tests::test_temperature_invalid ... ok
test logging::spans::tests::test_span_macros ... ok
test middleware::param_validator::tests::test_temperature_valid ... ok
test middleware::param_validator::tests::test_token_count_valid ... ok
test middleware::param_validator::tests::test_token_count_exceeds ... ok
test middleware::param_validator::tests::test_top_p_invalid ... ok
test middleware::param_validator::tests::test_top_p_valid ... ok
test middleware::protocol::tests::test_api_version_constant ... ok
test middleware::protocol::tests::test_openai_compatible_version ... ok
test middleware::rate_limiter::tests::test_allows_under_limit ... ok
test middleware::rate_limiter::tests::test_bucket_count ... ok
test middleware::rate_limiter::tests::test_remaining ... ok
test middleware::rate_limiter::tests::test_blocks_over_limit ... ok
test middleware::rate_limiter::tests::test_reset_client ... ok
test middleware::rate_limiter::tests::test_retry_after ... ok
test middleware::rate_limiter::tests::test_separate_clients ... ok
test middleware::token_bucket::tests::test_available ... ok
test middleware::token_bucket::tests::test_creation ... ok
test middleware::token_bucket::tests::test_take_failure ... ok
test middleware::token_bucket::tests::test_take_success ... ok
test middleware::validator::tests::test_content_valid ... ok
test middleware::validator::tests::test_content_empty ... ok
test middleware::validator::tests::test_model_id_empty ... ok
test middleware::validator::tests::test_model_id_invalid_chars ... ok
test middleware::validator::tests::test_model_id_too_long ... ok
test middleware::validator::tests::test_model_id_valid ... ok
test middleware::validator::tests::test_prompt_empty ... ok
test middleware::validator::tests::test_prompt_too_long ... ok
test middleware::validator::tests::test_prompt_valid ... ok
test models::binary_reader_tests::tests::test_read_string ... ok
test models::binary_reader_tests::tests::test_read_u32 ... ok
test models::binary_reader_tests::tests::test_read_u64 ... ok
test models::binary_reader_tests::tests::test_read_u8 ... ok
test models::data_type_conversion::tests::test_data_type_conversion ... ok
test models::data_type_conversion::tests::test_data_type_display ... ok
test models::gguf_data_type::tests::test_element_size ... ok
test models::gguf_data_type::tests::test_total_size_quantized ... ok
test models::gguf_data_type::tests::test_total_size_unquantized ... ok
test models::gguf_header_validator::tests::test_validate_header_invalid_magic ... ok
test models::gguf_header_validator::tests::test_validate_header_unsupported_version ... ok
test models::gguf_kv_parser::tests::test_kv_parser_exists ... ok
test models::gguf_header_validator::tests::test_validate_header_valid ... ok
test models::gguf_loader::tests::test_read_u64 ... ok
test models::gguf_loader::tests::test_load_minimal_gguf ... ok
test models::gguf_metadata_store::tests::test_store_string_name ... ok
test models::gguf_metadata_store::tests::test_store_u32_context_length ... ok
test models::gguf_parser::tests::test_parse_nonexistent_file ... ok
test models::gguf_parser::tests::test_parse_invalid_magic ... ok
test models::gguf_tensor::tests::test_tensor_creation ... ok
test models::gguf_parser::tests::test_parse_valid_gguf_minimal ... ok
test models::gguf_tensor::tests::test_tensor_invalid_size ... ok
test models::gguf_tensor::tests::test_tensor_shape_string ... ok
test models::gguf_tensor_loader::tests::test_tensor_loader_exists ... ok
test models::loader::tests::test_discover_models_empty_dir ... ok
test models::loader::tests::test_load_model_file_not_found ... ok
test models::loader::tests::test_discover_models_ignores_non_gguf ... ok
test models::loader::tests::test_loader_new ... ok
test observability::component_info::tests::test_component_info_degraded ... ok
test observability::component_info::tests::test_component_info_operational ... ok
test observability::health_types::tests::test_health_response_calculate_status ... ok
test models::loader::tests::test_load_model_valid_file ... ok
test observability::health_types::tests::test_health_response_can_accept_requests ... ok
test observability::health_types::tests::test_health_response_default ... ok
test observability::metrics::tests::test_collector_error_rate ... ok
test observability::health_types::tests::test_health_response_unhealthy ... ok
test observability::metrics::tests::test_collector_response_time_percentiles ... ok
test observability::metrics::tests::test_collector_rps_calculation ... ok
test observability::metrics::tests::test_metrics_snapshot_creation ... ok
test observability::metrics_analyzer::tests::test_analyze_empty ... ok
test observability::metrics_analyzer::tests::test_analyze_percentiles ... ok
test observability::metrics_calculator::tests::test_calculate ... ok
test observability::metrics_calculator::tests::test_error_rate ... ok
test observability::metrics_calculator::tests::test_percentiles ... ok
test observability::metrics_collector::tests::test_cloneable ... ok
test observability::metrics_collector::tests::test_cache_tracking ... ok
test observability::metrics_collector::tests::test_collector_creation ... ok
test observability::metrics_collector::tests::test_record_failure ... ok
test observability::metrics_collector::tests::test_record_success ... ok
test observability::metrics_recorder_tests::tests::test_cache_operations ... ok
test observability::metrics_recorder_tests::tests::test_record_failure ... ok
test observability::metrics_recorder_tests::tests::test_record_success ... ok
test observability::metrics_recorder_tests::tests::test_reset ... ok
test observability::metrics_response::tests::test_metrics_response_default ... ok
test observability::metrics_snapshot::tests::test_default ... ok
test observability::metrics_response::tests::test_metrics_serialization ... ok
test observability::metrics_snapshot::tests::test_is_healthy ... ok
test observability::metrics_snapshot::tests::test_unhealthy_error_rate ... ok
test observability::metrics_snapshot::tests::test_unhealthy_latency ... ok
test observability::metrics_snapshot_builder::tests::test_snapshot_builder_error_rate ... ok
test observability::metrics_snapshot_builder::tests::test_snapshot_builder_hit_rate ... ok
test observability::metrics_snapshot_builder::tests::test_snapshot_builder_with_zero_metrics ... ok
test observability::metrics_snapshot_builder::tests::test_snapshot_builder_rps_calculation ... ok
test observability::readiness::tests::test_readiness_not_ready ... ok
test observability::readiness::tests::test_readiness_ready ... ok
test observability::readiness::tests::test_readiness_with_blocking ... ok
test observability::request_trace::tests::test_request_trace_creation ... ok
test observability::request_trace::tests::test_request_trace_log_entry ... ok
test observability::request_trace::tests::test_request_trace_log_error ... ok
test observability::response_time_store::tests::test_bounded_growth ... ok
test observability::response_time_store::tests::test_clear ... ok
test observability::response_time_store::tests::test_clone_shares_state ... ok
test observability::response_time_store::tests::test_store_multiple_times ... ok
test observability::response_time_store::tests::test_store_single_time ... ok
test observability::trace_id_generator::tests::test_trace_id_from_header_empty ... ok
test observability::trace_id_generator::tests::test_trace_id_from_header_none ... ok
test observability::trace_id_generator::tests::test_trace_id_from_header_too_long ... ok
test observability::trace_id_generator::tests::test_trace_id_from_header_valid ... ok
test observability::trace_id_generator::tests::test_trace_id_generation ... ok
test performance::adaptive_adjuster::tests::test_adjust_batch_size_high_memory ... ok
test performance::adaptive_adjuster::tests::test_adjust_batch_size_low_memory ... ok
test performance::adaptive_adjuster::tests::test_adjust_batch_size_max_boundary ... ok
test performance::adaptive_adjuster::tests::test_adjust_batch_size_min_boundary ... ok
test performance::adaptive_adjuster::tests::test_adjust_gpu_usage_when_cool ... ok
test performance::adaptive_adjuster::tests::test_adjust_gpu_usage_when_hot ... ok
test performance::adaptive_config::tests::test_adaptive_config_default ... ok
test performance::adaptive_config::tests::test_config_for_window_state ... ok
test performance::adaptive_config::tests::test_execution_modes ... ok
test performance::adaptive_tests::tests::test_adjust_batch_size_high_memory ... ok
test performance::adaptive_tests::tests::test_adjust_batch_size_low_memory ... ok
test performance::adaptive_tests::tests::test_adjust_gpu_usage ... ok
test performance::adaptive_tests::tests::test_cloneable ... ok
test performance::adaptive_tests::tests::test_manager_creation ... ok
test performance::adaptive_tests::tests::test_set_mode ... ok
test performance::adaptive_tests::tests::test_set_window_state ... ok
test performance::execution_modes::tests::test_balanced_config ... ok
test performance::execution_modes::tests::test_execution_modes ... ok
test performance::execution_modes::tests::test_high_performance_config ... ok
test performance::inference_metrics::tests::test_inference_metrics ... ok
test performance::inference_metrics::tests::test_inference_metrics_creation ... ok
test performance::inference_metrics_query::tests::test_avg_inference_time ... ok
test performance::inference_metrics_query::tests::test_avg_tokens_per_second ... ok
test performance::inference_metrics_query::tests::test_empty_metrics ... ok
test performance::inference_metrics_query::tests::test_gpu_usage_percent ... ok
test performance::metrics_analyzer_integration::tests::test_avg_inference_time ... ok
test performance::metrics_analyzer_integration::tests::test_avg_tokens_per_second ... ok
test performance::metrics_analyzer_integration::tests::test_empty_metrics ... ok
test performance::metrics_analyzer_integration::tests::test_gpu_usage_percent ... ok
test performance::metrics_queries::tests::test_avg_inference_time ... ok
test performance::metrics_queries::tests::test_current_memory ... ok
test performance::metrics_queries::tests::test_peak_memory ... ok
test performance::metrics_queries::tests::test_success_rate ... ok
test performance::metrics_storage::tests::test_clear_metrics ... ok
test performance::metrics_storage::tests::test_clone_shares_state ... ok
test performance::metrics_storage::tests::test_get_all_metrics ... ok
test performance::metrics_storage::tests::test_multiple_records ... ok
test performance::metrics_storage::tests::test_record_metric ... ok
test performance::operation_context::tests::test_operation_context_builder_chain ... ok
test performance::operation_context::tests::test_operation_context_creation ... ok
test inference::inference_pipeline::tests::test_inference_result_consistency ... ok
test performance::operation_context::tests::test_operation_context_with_model ... ok
test performance::operation_profile::tests::test_operation_profile_add ... ok
test performance::operation_profile::tests::test_operation_profile_avg ... ok
test performance::operation_profile::tests::test_operation_profile_creation ... ok
test performance::operation_profile::tests::test_operation_profile_time_percent ... ok
test performance::performance_metrics::tests::test_cloneable ... ok
test performance::performance_metrics::tests::test_creation ... ok
test performance::performance_metrics::tests::test_memory_tracking ... ok
test performance::performance_metrics::tests::test_reset ... ok
test performance::profile_analyzer::tests::test_empty_report ... ok
test performance::profile_analyzer::tests::test_generate_report ... ok
test performance::profile_analyzer::tests::test_top_slowest ... ok
test performance::profiler::tests::test_profiler_cloneable ... ok
test performance::profiler::tests::test_profiler_creation ... ok
test performance::profiler::tests::test_profiler_record ... ok
test performance::profiler::tests::test_profiler_reset ... ok
test observability::request_trace::tests::test_request_trace_elapsed ... ok
test performance::resource_state::tests::test_abundant ... ok
test performance::resource_state::tests::test_constrained ... ok
test performance::resource_state::tests::test_critical ... ok
test performance::resource_state::tests::test_moderate ... ok
test performance::profiler::tests::test_profiler_scoped_timer ... ok
test performance::scoped_timer::tests::test_timer_is_recorded ... ok
test performance::server_metrics_aggregator_tests::tests::test_avg_inference_time ... ok
test performance::server_metrics_aggregator_tests::tests::test_avg_tokens_per_second ... ok
test performance::server_metrics_aggregator_tests::tests::test_cloneable ... ok
test performance::server_metrics_aggregator_tests::tests::test_gpu_usage_percent ... ok
test performance::server_metrics_aggregator_tests::tests::test_metrics_aggregator_creation ... ok
test performance::server_metrics_aggregator_tests::tests::test_record_inference ... ok
test performance::server_metrics_aggregator_tests::tests::test_reset ... ok
test performance::window_state::tests::test_window_state_background ... ok
test performance::window_state::tests::test_window_state_foreground ... ok
test performance::window_state::tests::test_window_state_minimized ... ok
test resilience::circuit_breaker_config::tests::test_default_config ... ok
test resilience::circuit_breaker_config::tests::test_gpu_config ... ok
test resilience::circuit_breaker_config::tests::test_network_config ... ok
test resilience::circuit_breaker_facade_tests::tests::test_circuit_breaker_allow_request_closed ... ok
test resilience::circuit_breaker_facade_tests::tests::test_circuit_breaker_cloneable ... ok
test resilience::circuit_breaker_facade_tests::tests::test_circuit_breaker_creation ... ok
test resilience::circuit_breaker_facade_tests::tests::test_circuit_breaker_failure_threshold ... ok
test resilience::circuit_breaker_facade_tests::tests::test_circuit_breaker_half_open_failure ... ok
test resilience::circuit_breaker_facade_tests::tests::test_circuit_breaker_half_open_recovery ... ok
test resilience::circuit_breaker_facade_tests::tests::test_circuit_breaker_half_open_transition ... ok
test resilience::circuit_breaker_facade_tests::tests::test_circuit_breaker_open_rejects_requests ... ok
test resilience::circuit_breaker_facade_tests::tests::test_circuit_breaker_reset ... ok
test resilience::circuit_breaker_facade_tests::tests::test_circuit_breaker_success_resets ... ok
test performance::operation_context::tests::test_operation_context_elapsed ... ok
test resilience::circuit_breaker_request_handler::tests::test_allow_request_when_closed ... ok
test resilience::circuit_breaker_request_handler::tests::test_allow_request_when_half_open_and_calls_available ... ok
test resilience::circuit_breaker_request_handler::tests::test_deny_request_when_half_open_and_max_calls_reached ... ok
test resilience::circuit_breaker_request_handler::tests::test_deny_request_when_open_and_timeout_not_elapsed ... ok
test resilience::circuit_breaker_state_recorder::tests::test_record_failure_in_closed_transitions_to_open ... ok
test resilience::circuit_breaker_state_recorder::tests::test_record_failure_in_half_open_transitions_to_open ... ok
test resilience::circuit_breaker_state_recorder::tests::test_record_success_in_half_open_transitions_to_closed ... ok
test resilience::circuit_breaker_state_recorder::tests::test_record_success_resets_failures_in_closed_state ... ok
test resilience::circuit_breaker_transitions::tests::test_half_open_transition ... ok
test resilience::circuit_breaker_transitions::tests::test_initial_state_closed ... ok
test resilience::circuit_breaker_transitions::tests::test_reset ... ok
test resilience::circuit_breaker_transitions::tests::test_open_on_failure_threshold ... ok
test resilience::circuit_state_transitions::tests::test_increment_failures ... ok
test resilience::circuit_state_transitions::tests::test_initial_state ... ok
test resilience::circuit_state_transitions::tests::test_reset_all ... ok
test resilience::circuit_state_transitions::tests::test_transition_to_closed ... ok
test resilience::circuit_state_transitions::tests::test_transition_to_half_open ... ok
test resilience::circuit_state_transitions::tests::test_transition_to_open ... ok
test resilience::component_health::tests::test_all_healthy ... ok
test resilience::coordinator::tests::test_coordinator_creation ... ok
test resilience::coordinator::tests::test_coordinator_record_success ... ok
test resilience::coordinator::tests::test_coordinator_record_failure ... ok
test resilience::coordinator_decision::tests::test_decision_circuit_open ... ok
test resilience::coordinator_decision::tests::test_decision_fallback_available ... ok
test resilience::coordinator_decision::tests::test_decision_permanent_error ... ok
test performance::scoped_timer::tests::test_scoped_timer ... ok
test resilience::coordinator_decision::tests::test_decision_transient_error ... ok
test resilience::fallback_health::tests::test_health_check_default ... ok
test resilience::fallback_health::tests::test_health_check_degraded ... ok
test resilience::fallback_health::tests::test_health_check_degraded_moderate_memory ... ok
test resilience::fallback_health::tests::test_health_check_unhealthy_critical_memory ... ok
test resilience::fallback_health::tests::test_health_check_unhealthy_no_cpu ... ok
test resilience::fallback_strategy::tests::test_fallback_gpu_error ... ok
test resilience::fallback_strategy::tests::test_fallback_is_available ... ok
test resilience::fallback_strategy::tests::test_fallback_memory_error ... ok
test resilience::fallback_strategy::tests::test_fallback_messages ... ok
test resilience::fallback_strategy::tests::test_fallback_model_corrupted ... ok
test resilience::fallback_strategy::tests::test_fallback_no_strategy ... ok
test resilience::fallback_strategy::tests::test_fallback_streaming_error ... ok
test resilience::health::tests::test_can_serve ... ok
test resilience::health::tests::test_health_response_default ... ok
test resilience::health::tests::test_health_response_degraded ... ok
test resilience::health::tests::test_health_response_from_components ... ok
test resilience::health::tests::test_health_response_serialization ... ok
test resilience::health::tests::test_ready_response_not_ready ... ok
test resilience::health::tests::test_ready_response_ready ... ok
test resilience::health_status::tests::test_healthy ... ok
test resilience::health_status::tests::test_unhealthy ... ok
test resilience::health_status::tests::test_with_metrics ... ok
test resilience::retry_config::tests::test_retry_config_aggressive ... ok
test resilience::retry_config::tests::test_retry_config_conservative ... ok
test resilience::retry_config::tests::test_retry_config_default ... ok
test resilience::retry_config::tests::test_retry_config_with_attempts ... ok
test resilience::retry_state::tests::test_retry_delay_increase ... ok
test resilience::retry_state::tests::test_retry_delay_max_cap ... ok
test resilience::retry_state::tests::test_retry_state_creation ... ok
test resilience::retry_state::tests::test_retry_state_progression ... ok
test resilience::retry_state::tests::test_retry_state_remaining ... ok
test resilience::tests::test_classify_fatal_error ... ok
test resilience::tests::test_classify_permanent_error ... ok
test resilience::tests::test_classify_resource_exhausted ... ok
test resilience::tests::test_classify_transient_error ... ok
test resilience::tests::test_is_recoverable ... ok
test resilience::tests::test_timeout_config_default ... ok
test resilience::coordinator::tests::test_coordinator_with_timeout ... ok
test resilience::coordinator_decision::tests::test_decision_timeout_exceeded ... ok
test resilience::timeout_context::tests::test_timeout_context_creation ... ok
test resilience::timeout_context::tests::test_timeout_context_deadline_percent ... ok
test resilience::timeout_context::tests::test_timeout_context_deadline_exceeded ... ok
test resilience::timeout_context::tests::test_timeout_context_operation_timeout ... ok
test inference::tests::test_mock_generation ... ok
test resilience::timeout_context::tests::test_timeout_context_operation_timeout_exceeded ... ok
test resilience::timeout_context::tests::test_timeout_context_remaining ... ok
test resilience::timeout_manager::tests::test_timeout_manager_create_context ... ok
test resilience::timeout_manager::tests::test_timeout_manager_creation ... ok
test resilience::timeout_manager::tests::test_timeout_manager_multiple_contexts ... ok
test resilience::timeout_manager::tests::test_timeout_manager_reset ... ok
test resilience::timeout_manager::tests::test_timeout_manager_stats ... ok
test resilience::timeout_stats::tests::test_timeout_stats_timeout_rate ... ok
test resilience::timeout_stats::tests::test_timeout_stats_zero_rate ... ok
test server::server_state::tests::test_server_state_creation ... ok
test server::server_state::tests::test_server_state_default ... ok
test server::tests::test_chat_completions_model_not_found ... ok
test server::tests::test_list_models_endpoint ... ok
test server::tests::test_model_registry_add_and_retrieve ... ok
test server::tests::test_model_registry_empty ... ok
test streaming::handler::tests::test_chat_completion_stream_event_creation ... ok
test streaming::types::tests::test_streaming_choice_creation ... ok
test streaming::handler::tests::test_streaming_event_serialization ... ok
test streaming::types::tests::test_streaming_config_default ... ok
test streaming::types::tests::test_streaming_delta_finish ... ok
test streaming::types::tests::test_streaming_delta_with_content ... ok
test streaming::validator::tests::test_validator_chunk_size_invalid ... ok
test streaming::validator::tests::test_validator_chunk_size_valid ... ok
test streaming::validator::tests::test_validator_stream_always_valid ... ok
test streaming::validator::tests::test_validator_streaming_supported ... ok
test resilience::timeout_context::tests::test_timeout_context_capped_by_remaining ... ok
test resilience::timeout_context::tests::test_timeout_context_elapsed ... ok
test inference::inference_pipeline::tests::test_inference_multiple_runs ... ok
test middleware::token_bucket::tests::test_refill ... ok
test inference::pure_rust_backend::tests::test_forward_pass_logits_dimension ... ok
test inference::pure_rust_backend::tests::test_forward_pass_logits_normalized ... ok
test inference::pure_rust_backend::tests::test_forward_pass_consistency ... ok
test middleware::token_bucket::tests::test_max_cap ... ok

test result: ok. 962 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 10.62s

   Compiling minerva v0.2.0 (/Users/cadams/src/github.com/casonadams/playground/src-tauri)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 7.91s
     Running tests/lib.rs (target/debug/deps/lib-64400a88c240089e)

running 330 tests
test integration::api_protocol::test_api_error_structure ... ok
test integration::api_protocol::test_api_error_minimal ... ok
test integration::api_protocol::test_api_response_without_metadata ... ok
test integration::api_protocol::test_protocol_error_codes ... ok
test integration::api_protocol::test_api_response_metadata_fields ... ok
test integration::api_protocol::test_api_response_creation ... ok
test integration::api_protocol::test_protocol_validator_max_tokens_error_details ... ok
test integration::api_protocol::test_protocol_validator_max_tokens_valid ... ok
test integration::api_protocol::test_protocol_validator_max_tokens_boundaries ... ok
test integration::api_protocol::test_protocol_validator_model_id_empty ... ok
test integration::api_protocol::test_protocol_validator_model_id_max_length ... ok
test integration::api_protocol::test_protocol_validator_model_id_valid ... ok
test integration::api_protocol::test_protocol_validator_model_id_various_formats ... ok
test integration::api_protocol::test_protocol_validator_temperature_boundaries ... ok
test integration::api_protocol::test_protocol_validator_temperature_error_details ... ok
test integration::api_protocol::test_protocol_validator_temperature_invalid ... ok
test integration::api_protocol::test_protocol_validator_top_p_error_details ... ok
test integration::api_protocol::test_protocol_validator_top_p_invalid ... ok
test integration::api_protocol::test_protocol_validator_top_p_valid ... ok
test integration::api_protocol::test_validation_chain ... ok
test integration::api_protocol::test_validation_failure_isolation ... ok
test integration::api_response_format::test_api_response_data_field ... ok
test integration::api_response_format::test_api_error_minimal_structure ... ok
test integration::api_response_format::test_api_error_response_structure ... ok
test integration::api_response_format::test_api_response_meta_structure ... ok
test integration::api_response_format::test_api_response_empty_data ... ok
test integration::api_response_format::test_api_response_nested_data ... ok
test integration::api_response_format::test_api_response_serialization ... ok
test integration::api_response_format::test_api_response_openai_compatibility ... ok
test integration::api_response_format::test_error_response_openai_format ... ok
test integration::api_response_format::test_response_request_id_uuid_format ... ok
test integration::api_response_format::test_multiple_responses_different_request_ids ... ok
test integration::api_response_format::test_response_timestamp_format ... ok
test integration::batch_processing::test_batch_inference_engine_default_creation ... ok
test integration::batch_processing::test_batch_inference_max_batch_size ... ok
test integration::batch_processing::test_batch_inference_multiple_prompts ... ok
test integration::batch_processing::test_batch_inference_optimal_batch_size ... ok
test integration::batch_processing::test_batch_inference_single_prompt ... ok
test integration::batch_processing::test_batch_inference_temperature_effects ... ok
test integration::batch_processing::test_batch_inference_with_varying_parameters ... ok
test integration::batch_processing::test_batch_item_creation ... ok
test integration::batch_processing::test_batch_response_creation ... ok
test integration::batch_processing::test_batch_result_creation ... ok
test integration::batch_processing::test_batch_result_get_by_id ... ok
test integration::batch_processing::test_batch_result_statistics ... ok
test integration::batch_processing::test_batch_result_success_count ... ok
test integration::batch_processing::test_batch_large_dataset_tokenization ... ok
test integration::batch_processing::test_batch_stats_creation ... ok
test integration::batch_processing::test_batch_stats_many_items ... ok
test integration::batch_processing::test_batch_stats_single_item ... ok
test integration::batch_processing::test_batch_stats_speedup_calculation ... ok
test integration::batch_processing::test_batch_stats_zero_items ... ok
test integration::batch_processing::test_batch_tokenizer_decode_empty ... ok
test integration::batch_processing::test_batch_tokenizer_decode_multiple ... ok
test integration::batch_processing::test_batch_tokenizer_decode_single ... ok
test integration::batch_processing::test_batch_tokenizer_default_creation ... ok
test integration::batch_processing::test_batch_tokenizer_empty_text ... ok
test integration::batch_processing::test_batch_tokenizer_encode_decode_roundtrip ... ok
test integration::batch_processing::test_batch_tokenizer_max_batch_size ... ok
test integration::batch_processing::test_batch_tokenizer_long_text ... ok
test integration::batch_processing::test_batch_tokenizer_multiple_texts ... ok
test integration::batch_processing::test_batch_tokenizer_optimal_batch_size ... ok
test integration::batch_processing::test_batch_tokenizer_single_text ... ok
test integration::config_management::test_api_config_boundary_tokens ... ok
test integration::config_management::test_api_config_empty_version ... ok
test integration::config_management::test_api_config_invalid_max_tokens_over_limit ... ok
test integration::config_management::test_api_config_invalid_max_tokens_zero ... ok
test integration::config_management::test_api_config_invalid_timeout ... ok
test integration::config_management::test_api_config_valid ... ok
test integration::config_management::test_application_config_all_defaults ... ok
test integration::config_management::test_application_config_invalid_api ... ok
test integration::config_management::test_application_config_invalid_server ... ok
test integration::config_management::test_application_config_invalid_streaming ... ok
test integration::config_management::test_config_serialization ... ok
test integration::config_management::test_config_source_default ... ok
test integration::config_management::test_config_source_ordering ... ok
test integration::config_management::test_multiple_config_combinations ... ok
test integration::config_management::test_server_config_empty_host ... ok
test integration::config_management::test_server_config_high_port ... ok
test integration::config_management::test_server_config_invalid_port_zero ... ok
test integration::config_management::test_server_config_localhost ... ok
test integration::config_management::test_server_config_valid ... ok
test integration::config_management::test_server_config_with_workers ... ok
test integration::config_management::test_streaming_config_chunk_size_boundary ... ok
test integration::config_management::test_streaming_config_disabled ... ok
test integration::config_management::test_streaming_config_invalid_chunk_size_over_limit ... ok
test integration::config_management::test_streaming_config_invalid_chunk_size_zero ... ok
test integration::config_management::test_streaming_config_invalid_keep_alive_zero ... ok
test integration::config_management::test_streaming_config_valid ... ok
test integration::context_management::test_context_manager_cache_stats ... ok
test integration::context_management::test_context_manager_memory_pressure ... ok
test integration::context_management::test_context_manager_memory_tracking ... ok
test integration::context_management::test_context_manager_with_policy ... ok
test integration::error_recovery_e2e::test_context_exceeds_limits ... ok
test integration::error_recovery_e2e::test_error_recovery_backoff_calculation ... ok
test integration::error_recovery_e2e::test_error_recovery_context_limit_fatal ... ok
test integration::error_recovery_e2e::test_error_recovery_gpu_context_lost ... ok
test integration::error_recovery_e2e::test_error_recovery_gpu_oom ... ok
test integration::error_recovery_e2e::test_error_recovery_gpu_oom_fallback ... ok
test integration::error_recovery_e2e::test_error_recovery_is_gpu_error ... ok
test integration::error_recovery_e2e::test_error_recovery_is_recoverable ... ok
test integration::error_recovery_e2e::test_error_recovery_model_corrupted ... ok
test integration::error_recovery_e2e::test_error_recovery_streaming_error_recovery ... ok
test integration::error_recovery_e2e::test_performance_metrics_tracking ... ok
test integration::gpu_and_parameters::test_generation_config_validation_max_tokens ... ok
test integration::gpu_and_parameters::test_generation_config_validation_temperature ... ok
test integration::gpu_and_parameters::test_generation_config_validation_top_p ... ok
test integration::gpu_and_parameters::test_generation_config_validation_valid ... ok
test integration::gpu_and_parameters::test_gpu_context_allocation ... ok
test integration::gpu_and_parameters::test_gpu_context_creation ... ok
test integration::gpu_and_parameters::test_gpu_context_device_detection ... ok
test integration::gpu_and_parameters::test_gpu_device_detection ... ok
test integration::gpu_and_parameters::test_gpu_initialization_metal ... ok
test integration::gpu_and_parameters::test_gpu_memory_limits ... ok
test integration::gpu_and_parameters::test_gpu_vs_cpu_performance_comparison ... ok
test integration::headless_server::test_config_decoupling ... ok
test integration::headless_server::test_headless_server_no_tauri_dependency ... ok
test integration::headless_server::test_server_state_creation ... ok
test integration::headless_server::test_server_state_metrics_collector ... ok
test integration::headless_server::test_server_state_rate_limiter ... ok
test integration::http_api::test_api_error_response_format ... ok
test integration::http_api::test_api_retry_logic ... ok
test integration::http_api::test_api_timeout_handling ... ok
test integration::http_api::test_chat_completion_request_validation ... ok
test integration::http_api::test_chat_completion_response_format ... ok
test integration::http_api::test_config_endpoint_structure ... ok
test integration::http_api::test_health_endpoint_structure ... ok
test integration::http_api::test_inference_capabilities_endpoint ... ok
test integration::http_api::test_metrics_endpoint_structure ... ok
test integration::http_api::test_model_download_request_format ... ok
test integration::http_api::test_readiness_endpoint_structure ... ok
test integration::inference_engine::test_generation_config_validation_max_tokens ... ok
test integration::inference_engine::test_generation_config_validation_temperature ... ok
test integration::inference_engine::test_generation_config_validation_top_p ... ok
test integration::inference_engine::test_generation_config_validation_valid ... ok
test integration::headless_server::test_app_config_models_dir_override ... ok
test integration::headless_server::test_server_state_with_models ... ok
test integration::headless_server::test_server_state_with_multiple_models ... ok
test integration::model_caching::test_model_cache_contains ... ok
test integration::model_caching::test_model_cache_creation_fifo ... ok
test integration::model_caching::test_model_cache_creation_lfu ... ok
test integration::model_caching::test_model_cache_creation_lru ... ok
test integration::model_caching::test_model_cache_default ... ok
test integration::model_caching::test_model_cache_get_nonexistent ... ok
test integration::model_caching::test_model_cache_list_operations ... ok
test integration::model_caching::test_model_cache_stats_hit_rate ... ok
test integration::http_api::test_model_get_endpoint ... ok
test integration::http_api::test_models_list_response_format ... ok
test integration::http_api::test_models_list_endpoint ... ok
test integration::model_discovery::test_model_discovery_basic ... ok
test integration::model_registry::test_model_registry_cache_usage ... ok
test integration::model_registry::test_model_registry_clear ... ok
test integration::model_registry::test_model_registry_creation ... ok
test integration::model_registry::test_model_registry_default ... ok
test integration::model_registry::test_model_registry_get_nonexistent ... ok
test integration::model_registry::test_model_registry_least_used ... ok
test integration::model_registry::test_model_registry_max_cache_size ... ok
test integration::model_registry::test_model_registry_oldest_cached ... ok
test integration::model_registry::test_model_registry_remove ... ok
test integration::multimodel_support::test_context_manager_cache_stats ... ok
test integration::multimodel_support::test_context_manager_memory_pressure ... ok
test integration::multimodel_support::test_context_manager_memory_tracking ... ok
test integration::multimodel_support::test_context_manager_with_policy ... ok
test integration::multimodel_support::test_model_cache_contains ... ok
test integration::multimodel_support::test_model_cache_creation_fifo ... ok
test integration::multimodel_support::test_model_cache_creation_lfu ... ok
test integration::multimodel_support::test_model_cache_creation_lru ... ok
test integration::multimodel_support::test_model_cache_default ... ok
test integration::model_discovery::test_model_discovery_filters_non_gguf ... ok
test integration::model_discovery::test_model_registry_discovery ... ok
test integration::multimodel_support::test_model_cache_get_nonexistent ... ok
test integration::multimodel_support::test_model_cache_list_operations ... ok
test integration::multimodel_support::test_model_cache_stats_hit_rate ... ok
test integration::multimodel_support::test_model_registry_cache_usage ... ok
test integration::multimodel_support::test_model_registry_clear ... ok
test integration::multimodel_support::test_model_registry_creation ... ok
test integration::multimodel_support::test_model_registry_default ... ok
test integration::multimodel_support::test_model_registry_get_nonexistent ... ok
test integration::multimodel_support::test_model_registry_least_used ... ok
test integration::multimodel_support::test_model_registry_max_cache_size ... ok
test integration::multimodel_support::test_model_registry_oldest_cached ... ok
test integration::multimodel_support::test_model_registry_remove ... ok
test integration::model_discovery::test_model_discovery_multiple ... ok
test integration::multimodel_support::test_preload_config_default ... ok
test integration::multimodel_support::test_preload_manager_clear_queue ... ok
test integration::multimodel_support::test_preload_manager_config ... ok
test integration::multimodel_support::test_preload_manager_creation ... ok
test integration::multimodel_support::test_preload_manager_queue ... ok
test integration::multimodel_support::test_preload_manager_reset_stats ... ok
test integration::multimodel_support::test_preload_manager_set_enabled ... ok
test integration::multimodel_support::test_preload_manager_stats ... ok
test integration::multimodel_support::test_preload_stats_calculation ... ok
test integration::multimodel_support::test_preload_strategy_frequency ... ok
test integration::multimodel_support::test_preload_strategy_recency ... ok
test integration::multimodel_support::test_preload_strategy_sequential ... ok
test integration::multimodel_support::test_preload_strategy_size ... ok
test integration::performance_metrics::test_gpu_vs_cpu_performance_comparison ... ok
test integration::performance_metrics::test_performance_metrics_tracking ... ok
test integration::phase4_step3::test_cache_optimizer_aggressive_strategy ... ok
test integration::phase4_step3::test_cache_optimizer_calculate_optimal_size ... ok
test integration::phase4_step3::test_cache_optimizer_config ... ok
test integration::phase4_step3::test_cache_optimizer_conservative_strategy ... ok
test integration::phase4_step3::test_cache_optimizer_creation ... ok
test integration::phase4_step3::test_cache_optimizer_set_size ... ok
test integration::phase4_step3::test_cache_optimizer_set_size_respects_bounds ... ok
test integration::phase4_step3::test_cache_optimizer_should_optimize ... ok
test integration::phase4_step3::test_garbage_collector_collect ... ok
test integration::phase4_step3::test_garbage_collector_creation ... ok
test integration::phase4_step3::test_garbage_collector_set_auto_collect ... ok
test integration::phase4_step3::test_garbage_collector_should_collect ... ok
test integration::phase4_step3::test_garbage_collector_stats ... ok
test integration::phase4_step3::test_gc_stats_avg_freed ... ok
test integration::phase4_step3::test_optimization_config_default ... ok
test integration::phase4_step3::test_optimization_strategy_default ... ok
test integration::phase4_step3::test_pattern_detector_analyze ... ok
test integration::phase4_step3::test_pattern_detector_clear ... ok
test integration::phase4_step3::test_pattern_detector_cold_models ... ok
test integration::phase4_step3::test_pattern_detector_creation ... ok
test integration::phase4_step3::test_pattern_detector_hot_models ... ok
test integration::phase4_step3::test_pattern_detector_record_access ... ok
test integration::phase4_step3::test_pattern_detector_set_threshold ... ok
test integration::phase4_step3::test_pattern_detector_should_analyze ... ok
test integration::phase4_step3::test_system_memory_available_percent ... ok
test integration::phase4_step3::test_system_memory_under_pressure ... ok
test integration::preloading::test_preload_config_default ... ok
test integration::preloading::test_preload_manager_clear_queue ... ok
test integration::preloading::test_preload_manager_config ... ok
test integration::preloading::test_preload_manager_creation ... ok
test integration::preloading::test_preload_manager_queue ... ok
test integration::preloading::test_preload_manager_reset_stats ... ok
test integration::preloading::test_preload_manager_set_enabled ... ok
test integration::preloading::test_preload_manager_stats ... ok
test integration::preloading::test_preload_stats_calculation ... ok
test integration::preloading::test_preload_strategy_frequency ... ok
test integration::preloading::test_preload_strategy_recency ... ok
test integration::preloading::test_preload_strategy_sequential ... ok
test integration::preloading::test_preload_strategy_size ... ok
test integration::streaming::test_mock_backend_detokenize ... ok
test integration::streaming::test_mock_backend_tokenization ... ok
test integration::streaming::test_mock_backend_lifecycle ... ok
test integration::streaming::test_token_stream_callback_streaming ... ok
test integration::streaming::test_token_stream_callback_with_content ... ok
test integration::streaming::test_token_stream_collection ... ok
test integration::streaming::test_token_stream_iteration ... ok
test integration::streaming::test_token_stream_reset ... ok
test integration::streaming_handlers::test_create_streaming_events_basic ... ok
test integration::streaming_handlers::test_create_streaming_events_empty_tokens ... ok
test integration::streaming_handlers::test_create_streaming_events_single_token ... ok
test integration::streaming_handlers::test_format_streaming_event_serialization ... ok
test integration::streaming_handlers::test_format_streaming_event_with_finish ... ok
test integration::streaming_handlers::test_streaming_accumulation_from_events ... ok
test integration::streaming_handlers::test_streaming_event_choice_index ... ok
test integration::streaming_handlers::test_streaming_event_object_type ... ok
test integration::streaming_handlers::test_streaming_events_finish_event_structure ... ok
test integration::streaming_handlers::test_streaming_events_id_preserved ... ok
test integration::streaming_handlers::test_streaming_events_model_preserved ... ok
test integration::streaming_handlers::test_streaming_events_timestamps_set ... ok
test integration::streaming_handlers::test_streaming_events_token_content_preserved ... ok
test integration::streaming_handlers::test_streaming_large_token_sequence ... ok
test integration::streaming_handlers::test_streaming_special_characters_in_tokens ... ok
test integration::streaming_responses::test_streaming_choice_structure ... ok
test integration::streaming_responses::test_streaming_config_custom_values ... ok
test integration::streaming_responses::test_streaming_config_default_values ... ok
test integration::streaming_responses::test_streaming_content_accumulation ... ok
test integration::streaming_responses::test_streaming_delta_finish ... ok
test integration::streaming_responses::test_streaming_delta_with_content ... ok
test integration::streaming_responses::test_streaming_empty_delta_finish ... ok
test integration::streaming_responses::test_streaming_event_creation ... ok
test integration::streaming_responses::test_streaming_event_finish_event ... ok
test integration::streaming_responses::test_streaming_event_multiple_choices ... ok
test integration::streaming_responses::test_streaming_event_openai_format_compatibility ... ok
test integration::streaming_responses::test_streaming_event_serialization ... ok
test integration::streaming_responses::test_streaming_multiple_tokens_sequence ... ok
test integration::streaming_responses::test_streaming_validator_chunk_size_boundary ... ok
test integration::streaming_responses::test_streaming_validator_chunk_size_invalid ... ok
test integration::streaming_responses::test_streaming_validator_chunk_size_valid ... ok
test integration::streaming_responses::test_streaming_validator_empty_model ... ok
test integration::streaming_responses::test_streaming_validator_model_support ... ok
test integration::streaming_responses::test_streaming_validator_stream_parameter ... ok
test integration::tokenization::test_bpe_add_merge_invalid_left ... ok
test integration::tokenization::test_bpe_add_merge_invalid_right ... ok
test integration::tokenization::test_bpe_add_merge_valid ... ok
test integration::tokenization::test_bpe_count_tokens ... ok
test integration::tokenization::test_bpe_decode_empty_tokens ... ok
test integration::tokenization::test_bpe_encode_empty_text ... ok
test integration::tokenization::test_bpe_merge_count ... ok
test integration::tokenization::test_bpe_tokenizer_creation ... ok
test integration::tokenization::test_bpe_tokenizer_with_vocab ... ok
test integration::tokenization::test_detect_bert_format ... ok
test integration::tokenization::test_detect_default_format ... ok
test integration::tokenization::test_detect_gpt_format ... ok
test integration::tokenization::test_detect_t5_format ... ok
test integration::tokenization::test_format_detection_gpt_model ... ok
test integration::tokenization::test_full_tokenization_pipeline ... ok
test integration::tokenization::test_load_vocabulary_json_basic ... ok
test integration::tokenization::test_load_vocabulary_txt_basic ... ok
test integration::tokenization::test_load_vocabulary_txt_comments ... ok
test integration::tokenization::test_load_vocabulary_txt_empty_lines ... ok
test integration::tokenization::test_load_vocabulary_txt_invalid ... ok
test integration::tokenization::test_load_vocabulary_txt_special_tokens ... ok
test integration::tokenization::test_real_bpe_pipeline ... ok
test integration::tokenization::test_token_creation ... ok
test integration::tokenization::test_token_equality ... ok
test integration::tokenization::test_token_handler_count_without_tokenizer ... ok
test integration::tokenization::test_token_handler_creation ... ok
test integration::tokenization::test_token_handler_decode_without_tokenizer ... ok
test integration::tokenization::test_token_handler_encode_without_tokenizer ... ok
test integration::tokenization::test_token_handler_format_detection ... ok
test integration::tokenization::test_token_handler_is_initialized ... ok
test integration::tokenization::test_token_handler_set_tokenizer ... ok
test integration::tokenization::test_tokenizer_format_and_handler ... ok
test integration::tokenization::test_vocabulary_add_multiple_tokens ... ok
test integration::tokenization::test_vocabulary_add_single_token ... ok
test integration::tokenization::test_vocabulary_and_tokenizer_integration ... ok
test integration::tokenization::test_vocabulary_bidirectional_lookup ... ok
test integration::tokenization::test_vocabulary_default_special_tokens ... ok
test integration::tokenization::test_vocabulary_duplicate_rejection ... ok
test integration::tokenization::test_vocabulary_initialization ... ok
test integration::tokenization::test_vocabulary_special_token_duplicate ... ok
test integration::tokenization::test_vocabulary_special_tokens ... ok
test integration::tokenization::test_vocabulary_with_tokenizer_and_merges ... ok
test integration::error_recovery_e2e::test_inference_engine_lifecycle ... ok
test integration::inference_engine::test_inference_context_info ... ok
test integration::inference_engine::test_inference_engine_lifecycle ... ok
test integration::error_recovery_e2e::test_full_inference_with_error_handling ... ok
test integration::streaming::test_backend_with_streaming ... ok
test integration::error_recovery_e2e::test_full_inference_pipeline ... ok
test integration::streaming::test_mock_backend_generation ... ok
test integration::streaming::test_streaming_with_inference_backend ... ok
test integration::inference_engine::test_inference_generate_response ... ok

test result: ok. 330 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.08s

